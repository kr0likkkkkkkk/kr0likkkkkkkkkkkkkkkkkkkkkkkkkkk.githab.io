<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор стоимости услуги</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { margin-bottom: 10px; padding: 8px; width: 100%; box-sizing: border-box; }
        .result { margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 5px; font-size: 18px; font-weight: bold; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>Калькулятор стоимости услуги</h1>
    
    <form id="calculator-form">
        <div class="form-group">
            <label for="quantity">Количество:</label>
            <input type="number" id="quantity" min="1" max="100" value="1">
        </div>
        
        <div class="form-group">
            <label>Тип услуги:</label>
            <select id="serviceType">
                <option value="basic">Базовая услуга</option>
                <option value="standard">Стандартная услуга</option>
                <option value="premium">Премиум услуга</option>
            </select>
        </div>
        
        <div class="form-group hidden" id="options-group">
            <label for="options">Опции:</label>
            <select id="options">
                <option value="option1">Опция 1</option>
                <option value="option2">Опция 2</option>
                <option value="option3">Опция 3</option>
            </select>
        </div>
        
        <div class="form-group hidden" id="property-group">
            <label><input type="checkbox" id="property"> Дополнительное свойство</label>
        </div>
        
        <div class="result" id="result">Общая стоимость: 0 руб.</div>
    </form>

    <script>
        const prices = {
            basic: 100,
            standard: 200,
            premium: 300,
            options: { option1: 0, option2: 50, option3: 100 },
            property: 75
        };

        function calculatePrice() {
            const quantity = Math.min(Math.max(parseInt(document.getElementById('quantity').value) || 1, 1), 100);
            const serviceType = document.getElementById('serviceType').value;
            const options = document.getElementById('options');
            const property = document.getElementById('property');
            
            let price = prices[serviceType];
            
            if (!options.classList.contains('hidden')) {
                price += prices.options[options.value];
            }
            
            if (!property.classList.contains('hidden') && property.checked) {
                price += prices.property;
            }
            
            document.getElementById('result').textContent = `Общая стоимость: ${price * quantity} руб.`;
        }

        function updateFormVisibility() {
            const serviceType = document.getElementById('serviceType').value;
            const optionsGroup = document.getElementById('options-group');
            const propertyGroup = document.getElementById('property-group');
            
            optionsGroup.classList.add('hidden');
            propertyGroup.classList.add('hidden');
            
            if (serviceType === 'standard') optionsGroup.classList.remove('hidden');
            if (serviceType === 'premium') propertyGroup.classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateFormVisibility();
            calculatePrice();
            
            // Обработчики событий
            document.getElementById('quantity').addEventListener('input', calculatePrice);
            document.getElementById('serviceType').addEventListener('change', () => {
                updateFormVisibility();
                calculatePrice();
            });
            document.getElementById('options').addEventListener('change', calculatePrice);
            document.getElementById('property').addEventListener('change', calculatePrice);
        });
    </script>
</body>
</html>
